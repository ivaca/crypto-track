(this.webpackJsonpcryptocurrency_training=this.webpackJsonpcryptocurrency_training||[]).push([[0],{191:function(t,e,n){},192:function(t,e,n){},193:function(t,e,n){},195:function(t,e,n){},200:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(32),i=n.n(a),o=(n(84),n(85),n(7)),s=(n(86),n(8)),u=n(2),l=Object(s.b)(null,(function(t){return{changeText:function(e){return t(function(t){return{type:"CHANGE_TEXT",payload:t}}(e))}}}))((function(t){var e=t.changeText;return Object(u.jsx)("div",{className:"search",children:Object(u.jsx)("input",{type:"search",className:"search-input",placeholder:"Ex. Bitcoin",onChange:function(t){return e(t.target.value)}})})})),d=n(38),b=(n(92),n(10)),j=(n(93),function(t){return t.coins.data}),f=(Object(b.a)([j],(function(t){return t})),Object(s.b)((function(t,e){return{coin:(n=e.currency,Object(b.a)([j],(function(t){return t.find((function(t){return t.FROMSYMBOL===n}))})))(t)};var n}))((function(t){var e=t.coin,n=t.filtered,c=t.history;if(e){var r=e.FROMSYMBOL,a=e.PRICE,i=e.ImageUrl;return Object(u.jsxs)("div",{className:"coin".concat(n?"-no-anim":""),onClick:function(){c.push("/crypto-track/coin/".concat(r))},children:[Object(u.jsx)("div",{className:"coin-img",children:Object(u.jsx)("img",{src:"https://www.cryptocompare.com".concat(i)})}),Object(u.jsx)("div",{className:"coin-name",children:r}),Object(u.jsxs)("div",{className:"coin-price",children:["$ ",a||"-"]})]})}return Object(u.jsx)(u.Fragment,{})}))),O=Object(b.a)([function(t){return t.currency}],(function(t){return t.data})),p={ADD_COIN:"ADD_COIN"},h=function(t){return{type:p.ADD_COIN,payload:t}},y=Object(b.b)({searchText:function(t){return t.search.searchText},isSearched:function(t){return t.search.used},currencyList:O}),m=Object(s.b)(y,(function(t){return{addCoin:function(e){return t(h(e))},toggleUsed:function(){return t({type:"TOGGLE_USED"})}}}))((function(t){var e=t.searchText,n=t.currencyList,r=t.toggleUsed,a=t.isSearched,i=Object(d.a)(t,["searchText","currencyList","toggleUsed","isSearched"]);return console.log(i),Object(u.jsx)("div",{className:"currency-list",children:n.filter((function(t){return t.includes(e.toUpperCase())||!e.length?t:null})).map((function(t){return e.length||a?(r(),Object(c.createElement)(f,Object(o.a)(Object(o.a)({},i),{},{currency:t,filtered:!0,key:t}))):Object(c.createElement)(f,Object(o.a)(Object(o.a)({},i),{},{currency:t,key:t}))}))})})),C=(n(94),function(t){var e=Object.assign({},t);return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)(l,Object(o.a)({},e)),Object(u.jsx)(m,Object(o.a)({},e))]})}),v=Object(b.a)([function(t){return t.coin?t.coin:{}}],(function(t){return t})),g=(n(95),Object(b.b)({coin:v})),x=Object(s.b)(g)((function(t){var e=t.coin;return Object(u.jsxs)("div",{className:"coin-info",children:[Object(u.jsx)("div",{className:"name",children:e.currency}),Object(u.jsx)("div",{className:"image"})]})})),E=n(77),D=n(20),N={labels:[],datasets:[{fill:!0,lineTension:.01,borderColor:"rgb(64,193,74)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"black",pointBackgroundColor:"rgb(64,193,74)",pointBorderWidth:1,pointHoverRadius:5,defaultFontColor:"rgb(64,193,74)",pointRadius:0,scaleFontSize:0,pointHitRadius:10,data:[]}],options:{responsive:!0,maintainAspectRatio:!1,elements:{point:{radius:0,hitRadius:5,hoverRadius:5}},legend:{display:!1},scales:{xAxes:[{display:!0,gridLines:{color:"rgba(255, 255, 255, 0.05)"},ticks:{fontFamily:"Ubuntu"}}],yAxes:[{display:!0,gridLines:{color:"rgba(0,0,0,0)",zeroLineColor:"rgba(0,0,0,0)"},ticks:{fontFamily:"Ubuntu"}}]}}};n(191);D.defaults.global.defaultFontColor="rgba(255, 255, 255, 0.5)",D.defaults.global.legend.display=!1;var _=function(t){t.coin;var e=Object(d.a)(t,["coin"]),n=e.width,r=e.height,a=e.data,i=e.options,o=Object(c.useRef)(null);return null!==o.current&&(console.log(o.current.chartInstance),o.current.chartInstance.update()),Object(u.jsx)("div",{className:"chart",children:Object(u.jsx)(D.Line,{ref:o,width:n,height:r,data:a,options:i})})};D.defaults.global.defaultFontColor="rgba(255, 255, 255, 0.5)",D.defaults.global.legend.display=!1;var S=Object(b.b)({coin:v}),T=Object(s.b)(S)((function(t){var e=t.coin,n=t.filter;return function(){var t={time:[],price:[]};e.data.filter((function(e,n){t.time.push(function(t){var e=new Date(1e3*t);return e.toDateString().split(" ")[1]+" "+e.toDateString().split(" ")[2]}(e.time)),t.price.push(e.close)})),N.datasets[0].data=t.price.slice(0,n),N.labels=t.time.slice(0,n)}(),Object(u.jsx)(_,{data:N,options:N.options})})),k=(n(192),function(){var t=Object(c.useState)(30),e=Object(E.a)(t,2),n=e[0],r=e[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"coin-filter",children:Object(u.jsxs)("ul",{tabindex:"1",children:[Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){return r(3)},children:"3 days"})}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){return r(7)},children:"Week"})}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){return r(30)},children:"Month"})})]})}),Object(u.jsx)(T,{filter:n}),";"]})}),F=(n(193),{FETCH_COIN_REQUESTED:"FETCH_COIN_REQUESTED",FETCH_COIN_FAILED:"FETCH_COIN_FAILED",FETCH_COIN_SUCCEEDED:"FETCH_COIN_SUCCEEDED"}),I=function(t){return{type:F.FETCH_COIN_SUCCEEDED,payload:t}},U=Object(s.b)(null,(function(t){return{fetchCoin:function(e){return t(function(t){return{type:F.FETCH_COIN_REQUESTED,payload:t}}(e))}}}))((function(t){var e=t.fetchCoin,n=t.match;return Object(c.useEffect)((function(){e(n.params.name)}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(x,{}),Object(u.jsx)(k,{})]})})),R=n(36),w=n(6),L=n(17),A=n.n(L),H=n(70),M=n(71),B=n(72),Y=n(79),G=n(75),J={ADD_CURRENCY:"ADD_CURRENCY"},Q=function(t){Object(Y.a)(n,t);var e=Object(G.a)(n);function n(t){var c,r=t.addCoin,a=t.currencyList,i=t.addCurrency;return Object(M.a)(this,n),(c=e.call(this)).state={addCoin:r,currencyList:a,addCurrency:i},c}return Object(B.a)(n,[{key:"componentDidMount",value:function(){var t=Object(H.a)(A.a.mark((function t(){var e,n,c=this;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t){return c.state.addCoin(t)},t.next=3,fetch("https://min-api.cryptocompare.com/data/top/price?limit=30&tsym=USD").then((function(t){return t.json()})).then((function(t){var n=t.Data.map((function(t){return t.CoinInfo.Name}));c.state.addCurrency(n),t.Data.map((function(t){return e({FROMSYMBOL:t.CoinInfo.Name,ImageUrl:t.CoinInfo.ImageUrl})}));var r=n.map((function(t){return"5~CCCAGG~".concat(t,"~USD")}));c.setState({subOpen:{action:"SubAdd",subs:r},subClose:{action:"SubRemove",subs:r}})}));case 3:n=function(){var t=c.state,n=t.socket,r=t.subOpen;n.onopen=function(t){n.send(JSON.stringify(r))},n.onmessage=function(t){var n=JSON.parse(t.data);"5"===n.TYPE&&e(n)}},this.setState({socket:new WebSocket("wss://streamer.cryptocompare.com/v2?api_key=3fcfffe50f77167f3cd04dbad295184f5ac956da429af743be8116d3b6ab6bd3")},(function(){return n.call()}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var t=this.state,e=t.socket,n=t.subClose;e.send(JSON.stringify(n))}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{})}}]),n}(r.a.Component),W=Object(b.b)({currencyList:O}),z=Object(s.b)(W,(function(t){return{addCoin:function(e){return t(h(e))},addCurrency:function(e){return t(function(t){return{type:J.ADD_CURRENCY,payload:t}}(e))}}}))(Q),P=(n(195),function(){return Object(u.jsx)("header",{children:Object(u.jsx)(R.b,{to:"/crypto-track/",children:Object(u.jsx)("img",{src:"https://bitcoin.org/img/icons/opengraph.png"})})})});var X=function(){return Object(u.jsx)(R.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(P,{}),Object(u.jsx)(w.a,{path:"/crypto-track/",component:z}),Object(u.jsx)(w.a,{exact:!0,path:"/crypto-track/",component:C}),Object(u.jsx)(w.a,{path:"/crypto-track/coin/:name",component:U})]})})},$=n(73),q=n(11),K=(n(197),n(37)),V=n(74),Z=function(t,e){if(!t)return[];for(var n=0;n<t.length;n++)if(t[n].FROMSYMBOL===e.FROMSYMBOL)return t[n]=Object(o.a)(Object(o.a)({},t[n]),e),t;return t.push(e),t},tt={data:[]},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p.ADD_COIN:return{data:Z(t.data,e.payload)};default:return t}},nt={data:[],message:{}},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F.FETCH_COIN_REQUESTED:return Object(o.a)({},t);case F.FETCH_COIN_SUCCEEDED:return{data:e.payload.data,currency:e.payload.currency};case F.FETCH_COIN_FAILED:return{message:e.payload};default:return t}},rt={searchText:"",used:!1},at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_TEXT":return Object(o.a)(Object(o.a)({},t),{},{searchText:e.payload});case"TOGGLE_USED":return Object(o.a)(Object(o.a)({},t),{},{used:!0});default:return t}},it={data:[]},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case J.ADD_CURRENCY:return Object(o.a)(Object(o.a)({},t),{},{data:e.payload});default:return t}},st={key:"root",storage:n.n(V).a,blacklist:["search","currency"],whitelist:["coins"]},ut=Object(q.c)({coins:et,search:at,currency:ot,coin:ct}),lt=Object(K.a)(st,ut),dt=n(78),bt=n(76),jt=n(39),ft=A.a.mark(pt),Ot=A.a.mark(ht);function pt(t){var e;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://min-api.cryptocompare.com/data/v2/histoday?fsym=".concat(t.payload,"&tsym=USD&limit=30")).then((function(t){return t.json()})).then((function(t){return t.Data}));case 3:return e=n.sent,n.next=6,Object(jt.a)(I({data:Object(bt.a)(e.Data),currency:t.payload}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(jt.a)((c=n.t0.message,{type:F.FETCH_COIN_FAILED,payload:c}));case 12:case"end":return n.stop()}var c}),ft,null,[[0,8]])}function ht(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(jt.b)(F.FETCH_COIN_REQUESTED,pt);case 2:case"end":return t.stop()}}),Ot)}var yt=Object(dt.a)(),mt=[yt];var Ct=Object(q.e)(lt,q.a.apply(void 0,mt));yt.run(ht);var vt=Object(K.b)(Ct);i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(s.a,{store:Ct,children:Object(u.jsx)($.a,{persistor:vt,children:Object(u.jsx)(X,{})})})}),document.getElementById("root"))},84:function(t,e,n){},85:function(t,e,n){},86:function(t,e,n){},92:function(t,e,n){},93:function(t,e,n){},94:function(t,e,n){},95:function(t,e,n){}},[[200,1,2]]]);
//# sourceMappingURL=main.74bebe51.chunk.js.map