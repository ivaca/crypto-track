(this.webpackJsonpcryptocurrency_training=this.webpackJsonpcryptocurrency_training||[]).push([[0],{27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(6),u=n.n(a),i=(n(27),n(28),n(7)),o=n(8),s=n(11),d=n(10),f=(n(29),n(4)),l=n(1),j=Object(f.b)(null,(function(t){return{changeText:function(e){return t(function(t){return{type:"CHANGE_TEXT",payload:t}}(e))}}}))((function(t){var e=t.changeText;return Object(l.jsx)("div",{className:"search",children:Object(l.jsx)("input",{type:"search",className:"search-input",placeholder:"Ex. Bitcoin",onChange:function(t){return e(t.target.value)}})})})),b=(n(36),n(5)),O=(n(37),function(t){return t.coins.data}),p=(Object(b.a)([O],(function(t){return t})),Object(f.b)((function(t,e){return{coin:(n=e.currency,Object(b.a)([O],(function(t){return t.find((function(t){return t.FROMSYMBOL===n}))})))(t)};var n}))((function(t){var e=t.coin,n=t.filtered;if(e){var c=e.FROMSYMBOL,r=e.PRICE;return Object(l.jsxs)("div",{className:"coin".concat(n?"-no-anim":""),children:[Object(l.jsx)("div",{className:"coin-name",children:c}),Object(l.jsxs)("div",{className:"coin-price",children:["$ ",r||"-"]})]})}return Object(l.jsx)(l.Fragment,{})}))),h=Object(b.a)([function(t){return t.currency}],(function(t){return t.data})),y={ADD_COIN:"ADD_COIN"},v=function(t){return{type:y.ADD_COIN,payload:t}},m=Object(b.b)({searchText:function(t){return t.search.searchText},isSearched:function(t){return t.search.used},currencyList:h}),C=Object(f.b)(m,(function(t){return{addCoin:function(e){return t(v(e))},toggleUsed:function(){return t({type:"TOGGLE_USED"})}}}))((function(t){var e=t.searchText,n=t.currencyList,c=t.toggleUsed,r=t.isSearched;return Object(l.jsx)("div",{className:"currency-list",children:n.filter((function(t){return t.includes(e.toUpperCase())||!e.length?t:null})).map((function(t){return e.length||r?(c(),Object(l.jsx)(p,{currency:t,filtered:!0},t)):Object(l.jsx)(p,{currency:t},t)}))})})),x=(n(38),function(t){Object(s.a)(n,t);var e=Object(d.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)(j,{}),Object(l.jsx)(C,{})]})}}]),n}(r.a.Component)),g=n(16),D=n.n(g),N=n(19),S={ADD_CURRENCY:"ADD_CURRENCY"},E=function(t){Object(s.a)(n,t);var e=Object(d.a)(n);function n(t){var c,r=t.addCoin,a=t.currencyList,u=t.addCurrency;return Object(i.a)(this,n),(c=e.call(this)).state={addCoin:r,currencyList:a,addCurrency:u},c}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=Object(N.a)(D.a.mark((function t(){var e,n=this;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://min-api.cryptocompare.com/data/top/price?limit=30&tsym=USD").then((function(t){return t.json()})).then((function(t){var e=t.Data.map((function(t){return t.CoinInfo.Name}));n.state.addCurrency(e),n.setState({subOpen:{action:"SubAdd",subs:e.map((function(t){return"5~CCCAGG~".concat(t,"~USD")}))}})}));case 2:e=function(){var t=n.state,e=t.socket,c=t.subOpen;e.onopen=function(t){console.log(c),e.send(JSON.stringify(c))};e.onmessage=function(t){var e,c=JSON.parse(t.data);"5"===c.TYPE&&(e=c,n.state.addCoin(e))}},this.setState({socket:new WebSocket("wss://streamer.cryptocompare.com/v2?api_key=3fcfffe50f77167f3cd04dbad295184f5ac956da429af743be8116d3b6ab6bd3")},(function(){return e.call()}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{})}}]),n}(r.a.Component),_=Object(b.b)({currencyList:h}),T=Object(f.b)(_,(function(t){return{addCoin:function(e){return t(v(e))},addCurrency:function(e){return t(function(t){return{type:S.ADD_CURRENCY,payload:t}}(e))}}}))(E);var k=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(T,{}),Object(l.jsx)(x,{})]})},A=n(20),R=n(2),U=n(21),L=n.n(U),w=n(9),M=n(22),Y=n.n(M),G=n(3),I=function(t,e){for(var n=0;n<t.length;n++)if(t[n].FROMSYMBOL===e.FROMSYMBOL)return t[n]=Object(G.a)(Object(G.a)({},t[n]),e),t;return console.log(t),t.push(e),t},B={data:[]},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y.ADD_COIN:return{data:I(t.data,e.payload)};default:return t}},J={searchText:"",used:!1},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_TEXT":return Object(G.a)(Object(G.a)({},t),{},{searchText:e.payload});case"TOGGLE_USED":return Object(G.a)(Object(G.a)({},t),{},{used:!0});default:return t}},P={data:[]},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S.ADD_CURRENCY:return Object(G.a)(Object(G.a)({},t),{},{data:e.payload});default:return t}},X={key:"root",storage:Y.a,blacklist:["search","currency"],whitelist:["coins"]},$=Object(R.c)({coins:F,search:H,currency:W}),q=Object(w.a)(X,$),z=[L.a],K=Object(R.d)(q,R.a.apply(void 0,z)),Q=Object(w.b)(K);u.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(f.a,{store:K,children:Object(l.jsx)(A.a,{persistor:Q,children:Object(l.jsx)(k,{})})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.5db98cba.chunk.js.map